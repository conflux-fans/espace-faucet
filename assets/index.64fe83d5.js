import{o as r,c as h,a as s,w as d,v as u,b as m,d as f,e as l,f as _,g}from"./vendor.74f106a2.js";const v=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(e){if(e.ep)return;e.ep=!0;const n=t(e);fetch(e.href,n)}};v();var C=(c,o)=>{const t=c.__vccOpts||c;for(const[i,e]of o)t[i]=e;return t};const p="https://evmtestnet.conflux123.xyz",y={data(){return{address:"",hash:"",captcha:"",coin:"cfx",captchaContent:"",captchaId:"",claiming:!1}},methods:{getCaptcha(){fetch(`${p}/v1/captcha`).then(c=>c.json()).then(c=>{this.captchaId=c.captchaId,this.captchaContent=c.content})},getFaucet(c){if(c.preventDefault(),!this.address){alert("Please enter an address");return}if(!this.captcha){alert("Please enter the captcha");return}this.claiming=!0;let o=`captchaId=${this.captchaId}&captchaVal=${this.captcha}`;this.coin==="cfx"?(o+=`&address=${this.address}`,fetch(`${p}/v1/CFX?${o}`,{method:"POST"}).then(t=>t.json()).then(t=>{this.claiming=!1,t.code===0?(alert("Claimed sucess!"),this.hash=t.data):alert("Claim failed: "+t.message)}).catch(t=>console.log(t))):fetch(`${p}/v1/ERC20?${o}`,{method:"POST",body:JSON.stringify({address:this.address,name:this.coin}),headers:{"Content-Type":"application/json"}}).then(t=>t.json()).then(t=>{this.claiming=!1,t.code===0?(alert("Claimed sucess!"),this.hash=t.data):alert("Claim failed: "+t.message)}).catch(t=>console.log(t))}},computed:{txScanLink(){return`https://evmtestnet.confluxscan.net/tx/${this.hash}`}},mounted(){console.log("App mounted"),this.getCaptcha()}},x={class:"container"},S=s("div",{class:"faucetHeader"},[s("span",null,"eSpace Faucet")],-1),k={class:"faucet-form"},T=l(" \xA0 "),O=_('<option value="cfx">CFX</option><option value="btc">BTC</option><option value="eth">ETH</option><option value="usdt">USDT</option><option value="usdc">USDC</option><option value="nut">NUT</option><option value="phx">PHX</option>',7),N=[O],b={class:"captcha2btn"},I=l(" \xA0 "),V=["src"],F=l(" \xA0 "),L={key:0,class:"fa fa-spinner fa-spin"},P=l(" \xA0 Claim "),U={key:0},w=["href"],A=s("div",{class:"mt-10",style:{color:"#2c3e50"}},[s("ul",null,[s("li",null,"One address can claim one kind eSpace testnet token per hour"),s("li",null,"Click captcha image to refresh it"),s("li",null,[l(" Conflux Core Space faucet is at "),s("a",{href:"https://faucet.confluxnetwork.org/"},"here")])])],-1);function j(c,o,t,i,e,n){return r(),h("div",x,[S,s("form",k,[s("div",null,[d(s("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=a=>e.address=a),placeholder:"Input your hex40 address"},null,512),[[u,e.address]]),T,d(s("select",{"onUpdate:modelValue":o[1]||(o[1]=a=>e.coin=a)},N,512),[[m,e.coin]])]),s("div",b,[d(s("input",{type:"text","onUpdate:modelValue":o[2]||(o[2]=a=>e.captcha=a),placeholder:"Input the captcha"},null,512),[[u,e.captcha]]),I,s("img",{src:e.captchaContent,width:"100",onClick:o[3]||(o[3]=(...a)=>n.getCaptcha&&n.getCaptcha(...a))},null,8,V),F,s("button",{onClick:o[4]||(o[4]=(...a)=>n.getFaucet&&n.getFaucet(...a))},[e.claiming?(r(),h("i",L)):f("",!0),P])])]),e.hash?(r(),h("div",U,[s("span",null,[s("a",{href:n.txScanLink},"Check Transaction on ConfluxScan",8,w)])])):f("",!0),A])}var B=C(y,[["render",j]]);g(B).mount("#app");
